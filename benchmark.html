<!DOCTYPE html>
<html>
  <head>
    <title>GHC-JS Benchmarks</title>
    <script src="benchmark.js"></script>
    <script src="nativejs.js"></script>
    <script src="uhcjs.js"></script>
    <script src="ghcjs.primes.js"></script>
    <script type="text/javascript">
    // var fib = new Benchmark.Suite;

    // // add tests
    // fib.add('fib.nativeJS', function() {
    //   fibJS(30)
    // })
    // .add('fib.uhcJS', function() {
    //   fibUHCJS(30)
    // })
    // // .add('String#indexOf', function() {
    // //   'Hello World!'.indexOf('o') > -1;
    // // })
    // // .add('String#match', function() {
    // //   !!'Hello World!'.match(/o/);
    // // })
    // // add listeners
    // .on('cycle', function(event) {
    //   console.log(event.target)
    //   console.log(String(event.target));
    // })
    // .on('complete', function() {
    //   console.log('Fastest is ' + this.filter('fastest').pluck('name'));
    // })
    // // run async
    // .run({ 'async': false });


    // var sum = new Benchmark.Suite;

    // // add tests
    // sum.add('sum.nativeJS', function() {
    //   return 0
    // })
    // .add('fib.uhcJS', function() {
    //   sumUHCJS(100000)
    // })
    // // .add('String#indexOf', function() {
    // //   'Hello World!'.indexOf('o') > -1;
    // // })
    // // .add('String#match', function() {
    // //   !!'Hello World!'.match(/o/);
    // // })
    // // add listeners
    // .on('cycle', function(event) {
    //   console.log(event.target)
    //   console.log(String(event.target));
    // })
    // .on('complete', function() {
    //   console.log('Fastest is ' + this.filter('fastest').pluck('name'));
    // })
    // // run async
    // .run({ 'async': false });

    var primes = new Benchmark.Suite;

    // add tests
    primes.add('primes.nativeJS', function() {
      return []
    })
    .add('primes.uhcJS', function() {
      primesUHCJS(1700)
    })
    .add('primes.ghcjs', function() {
        h$run(h$runio(h$mainZCMainzimain), function(r) { h$run(h$runio(h$flushStdout), function(r) {}); });
    })

    // add listeners
    .on('cycle', function(event) {
      console.log(event.target)
      console.log(String(event.target));
    })
    .on('complete', function() {
      console.log('Fastest is ' + this.filter('fastest').pluck('name'));
    })
    // run async
    .run({ 'async': false });


    </script>
  </head>
  <body>
    
  </body>
</html>